{"version":3,"file":"index.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["export const createGalleryCard = imgCard => {\n  const firstTag = imgCard.tags.split(',')[0].trim().toUpperCase();\n  return `\n  <li class=\"gallery-card\">\n    <a class=\"gallery-link\" href=\"${imgCard.largeImageURL}\"><img class=\"gallery-img\" src=\"${imgCard.webformatURL}\" alt=\"${firstTag}\" width=\"360\" height=\"200\" title=\"Beautiful Image\" /></a>\n   <ul class=\"inform-list\">\n              <li class=\"inform\">\n                <h3 class=\"inform-title\">Likes:</h3>\n                <p class=\"inform-text\">${imgCard.likes}</p>\n              </li>\n              <li class=\"inform\">\n                <h3 class=\"inform-title\">Views:</h3>\n                <p class=\"inform-text\">${imgCard.views}</p>\n              </li>\n              <li class=\"inform\">\n                <h3 class=\"inform-title\">Comments:</h3>\n                <p class=\"inform-text\">${imgCard.comments}</p>\n              </li>\n              <li class=\"inform\">\n                <h3 class=\"inform-title\">Downloads:</h3>\n                <p class=\"inform-text\">${imgCard.downloads}</p>\n              </li>\n            </ul>\n            </li>`;\n};\n","import axios from 'axios';\nexport const fetchPhotosByQuery = searchQuery => {\n  const searchParams = new URLSearchParams({\n    key: '48265193-8ac6160565acb44bbb7dfb3fe',\n    q: searchQuery,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    per_page: 9,\n    safesearch: true,\n  });\n  return fetch(`https://pixabay.com/api/?${searchParams}`).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n};\n","import SimpleLightbox from 'simplelightbox';\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport { createGalleryCard } from './js/render-functions';\nimport { fetchPhotosByQuery } from './js/pixabay-api';\n\nconst searchForm = document.querySelector('.input-search');\nconst galleryElem = document.querySelector('.gallery-list');\nconst loader = document.querySelector('.loader');\n\nloader.style.display = 'none';\n\nconst simpleLight = new SimpleLightbox('.gallery-list a', {\n  captions: true,\n  captionsData: 'alt',\n  captionDelay: 250,\n  scrollZoom: false,\n});\n\nconst onSearchFormSubmit = event => {\n  event.preventDefault();\n  const searchData = event.currentTarget.elements.input.value.trim();\n  if (searchData === '') {\n    iziToast.error({\n      title: 'Ошибка',\n      message: 'Поле должно быть заполнено!',\n      position: 'bottomRight',\n      closeOnClick: true,\n    });\n    return;\n  }\n  loader.style.display = 'flex';\n\n  fetchPhotosByQuery(searchData)\n    .then(data => {\n      if (data.hits.length === 0) {\n        iziToast.error({\n          title: 'Ошибка',\n          message:\n            'Извините, нет результатов, соответствующих вашему поисковому запросу. Попробуйте еще раз!',\n          position: 'bottomRight',\n          closeOnClick: true,\n        });\n\n        galleryElem.innerHTML = '';\n        searchForm.reset();\n        loader.style.display = 'none';\n        return;\n      }\n      const galleryTemplate = data.hits\n        .map(el => createGalleryCard(el))\n        .join('');\n      galleryElem.innerHTML = galleryTemplate;\n\n      simpleLight.refresh();\n      loader.style.display = 'none';\n    })\n    .catch(error => {\n      if (error.mesage === '404') {\n        iziToast.error({\n          title: 'Ошибка',\n          message: 'Ошибка загрузки изображений. Попробуйте снова.',\n          position: 'bottomRight',\n          closeOnClick: true,\n        });\n      }\n    });\n};\nsearchForm.addEventListener('submit', onSearchFormSubmit);\n"],"names":["createGalleryCard","imgCard","firstTag","fetchPhotosByQuery","searchQuery","searchParams","response","searchForm","galleryElem","loader","simpleLight","SimpleLightbox","onSearchFormSubmit","event","searchData","iziToast","data","galleryTemplate","el","error"],"mappings":"6vBAAO,MAAMA,EAAoBC,GAAW,CAC1C,MAAMC,EAAWD,EAAQ,KAAK,MAAM,GAAG,EAAE,CAAC,EAAE,OAAO,cACnD,MAAO;AAAA;AAAA,oCAE2BA,EAAQ,aAAa,mCAAmCA,EAAQ,YAAY,UAAUC,CAAQ;AAAA;AAAA;AAAA;AAAA,yCAIzFD,EAAQ,KAAK;AAAA;AAAA;AAAA;AAAA,yCAIbA,EAAQ,KAAK;AAAA;AAAA;AAAA;AAAA,yCAIbA,EAAQ,QAAQ;AAAA;AAAA;AAAA;AAAA,yCAIhBA,EAAQ,SAAS;AAAA;AAAA;AAAA,kBAI1D,ECvBaE,EAAqBC,GAAe,CAC/C,MAAMC,EAAe,IAAI,gBAAgB,CACvC,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,SAAU,EACV,WAAY,EAChB,CAAG,EACD,OAAO,MAAM,4BAA4BC,CAAY,EAAE,EAAE,KAAKC,GAAY,CACxE,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACpB,CAAG,CACH,ECRMC,EAAa,SAAS,cAAc,eAAe,EACnDC,EAAc,SAAS,cAAc,eAAe,EACpDC,EAAS,SAAS,cAAc,SAAS,EAE/CA,EAAO,MAAM,QAAU,OAEvB,MAAMC,EAAc,IAAIC,EAAe,kBAAmB,CACxD,SAAU,GACV,aAAc,MACd,aAAc,IACd,WAAY,EACd,CAAC,EAEKC,EAAqBC,GAAS,CAClCA,EAAM,eAAc,EACpB,MAAMC,EAAaD,EAAM,cAAc,SAAS,MAAM,MAAM,OAC5D,GAAIC,IAAe,GAAI,CACrBC,EAAS,MAAM,CACb,MAAO,SACP,QAAS,8BACT,SAAU,cACV,aAAc,EACpB,CAAK,EACD,MACD,CACDN,EAAO,MAAM,QAAU,OAEvBN,EAAmBW,CAAU,EAC1B,KAAKE,GAAQ,CACZ,GAAIA,EAAK,KAAK,SAAW,EAAG,CAC1BD,EAAS,MAAM,CACb,MAAO,SACP,QACE,4FACF,SAAU,cACV,aAAc,EACxB,CAAS,EAEDP,EAAY,UAAY,GACxBD,EAAW,MAAK,EAChBE,EAAO,MAAM,QAAU,OACvB,MACD,CACD,MAAMQ,EAAkBD,EAAK,KAC1B,IAAIE,GAAMlB,EAAkBkB,CAAE,CAAC,EAC/B,KAAK,EAAE,EACVV,EAAY,UAAYS,EAExBP,EAAY,QAAO,EACnBD,EAAO,MAAM,QAAU,MAC7B,CAAK,EACA,MAAMU,GAAS,CACVA,EAAM,SAAW,OACnBJ,EAAS,MAAM,CACb,MAAO,SACP,QAAS,iDACT,SAAU,cACV,aAAc,EACxB,CAAS,CAET,CAAK,CACL,EACAR,EAAW,iBAAiB,SAAUK,CAAkB"}